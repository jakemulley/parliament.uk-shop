{% if section.settings.show_offers_bar %}
  <div class="container">
    <div class="grid">
      {% for block in section.blocks %}
        <div class="grid-cell grid-cell-1of3">
          <div class="offers-bar__icon">
            {% if block.settings.icon == 'tag-blue' %}
              <img src="{{ 'icon-tag-blue.svg' | asset_url }}" role="presentation" alt="">
            {% elsif block.settings.icon == 'people-multi' %}
              <img src="{{ 'icon-people-multi.svg' | asset_url }}" role="presentation" alt="">
            {% elsif block.settings.icon == 'mouse-yellow' %}
              <img src="{{ 'icon-mouse-yellow.svg' | asset_url }}" role="presentation" alt="">
            {% elsif block.settings.icon == 'mail-green' %}
              <img src="{{ 'icon-mail-green.svg' | asset_url }}" role="presentation" alt="">
            {% endif %}
          </div>
          <div class="offers-bar__description">
            {% if block.settings.url %}
              <strong><a href="{{ block.settings.url }}">{{ block.settings.title }}</a></strong>
            {% else %}
              <strong>{{ block.settings.title }}</strong>
            {% endif %}
            <p>{{ block.settings.description }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endif %}

{% schema %}
  {
    "name": "Offers Bar",
    "max_blocks": 3,
    "class": "offers-bar",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_offers_bar",
        "label": "Show offers bar",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Block",
        "settings": [
          {
            "id": "icon",
            "type": "radio",
            "options": [
              { "value": "tag-blue", "label": "Tag icon, blue" },
              { "value": "people-multi", "label": "People icon, multicoloured" },
              { "value": "mouse-yellow", "label": "Mouse icon, yellow" },
              { "value": "mail-green", "label": "Mail icon, green" }
            ],
            "label": "Block icon"
          },
          {
            "id": "title",
            "type": "text",
            "label": "Block title"
          },
          {
            "id": "description",
            "type": "text",
            "label": "Block description"
          },
          {
            "id": "url",
            "type": "url",
            "label": "Block URL"
          }
        ]
      }
    ]
  }
{% endschema %}
